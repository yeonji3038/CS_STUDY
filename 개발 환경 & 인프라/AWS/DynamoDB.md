
# Amazon DynamoDB(다이너모 디비)
> **Amazon DynamoDB**는 완전관리형(NoSQL) **키-값(Key-Value) 및 문서(Document) 기반 데이터베이스 서비스**  
> 높은 성능과 확장성을 제공하며, 밀리초 단위의 빠른 응답 속도를 보장

---

## 🧠 주요 특징

| 항목 | 설명 |
|------|------|
| **NoSQL 데이터베이스** | 스키마가 유연한 Key-Value 또는 문서 구조 |
| **서버리스** | 인프라 관리 없이 자동 확장/축소 |
| **고성능** | 초당 수천만 건의 요청 처리 가능, 밀리초 응답 시간 |
| **자동 확장성** | 수요에 따라 처리량과 저장공간 자동 조절 (온디맨드 모드) |
| **내장 보안** | IAM, KMS, 암호화, 액세스 제어 제공 |
| **스트리밍 지원** | DynamoDB Streams로 변경사항 실시간 추적 가능 |
| **TTL(Time To Live)** | 항목 자동 만료 및 삭제 기능 지원 |

---

## 🔍 구성 요소

| 구성 요소 | 설명 |
|-----------|------|
| **테이블(Table)** | 데이터를 저장하는 기본 단위 |
| **파티션 키** | 필수 키, 데이터를 분산 저장하기 위한 기준 |
| **정렬 키** | 선택적 키, 복합 키 구성 시 사용 |
| **항목(Item)** | 테이블에 저장되는 단일 레코드 |
| **속성(Attribute)** | 항목을 구성하는 데이터 필드 |

---

## 🛠 사용 예시

### 1. **실시간 주문/결제 시스템**
- 빠른 읽기/쓰기 성능이 요구되는 트랜잭션 처리에 적합

### 2. **IoT 센서 데이터 저장**
- 유연한 스키마와 고성능으로 수많은 장치의 데이터를 저장

### 3. **사용자 세션 관리**
- 로그인 세션, 사용자 상태 등을 빠르게 조회 가능

### 4. **게임 순위표 저장**
- 빠른 업데이트 및 조회 성능 필요

---

## 🔄 관련 기능

- **DynamoDB Streams**: 변경 사항을 Kinesis처럼 스트리밍
- **DAX (DynamoDB Accelerator)**: 읽기 성능을 위한 인메모리 캐시
- **Global Tables**: 다중 리전 데이터 동기화 지원

---

## ✅ 장점 요약

- 서버리스 구조로 유지보수 부담 ↓
- 자동 확장으로 트래픽 폭증 대응 ↑
- 지연이 거의 없는 빠른 데이터 접근
- Lambda 등과 쉽게 통합 가능

---

# 관계형 데이터베이스 (RDB) vs DynamoDB (NoSQL)

| 구분              | 관계형 DB (RDB)                        | DynamoDB (NoSQL)                     |
|-------------------|----------------------------------------|--------------------------------------|
| **데이터 모델**      | 테이블, 행(row), 열(column), 고정된 스키마     | Key-Value / 문서 기반, 유연한 스키마       |
| **스키마 변경**      | 미리 정의 필요, 변경 시 마이그레이션 필요          | 스키마 없음 또는 매우 유연함                 |
| **확장 방식**       | 수직 확장(더 좋은 서버) → 복잡               | 수평 확장(Shard 자동 분산) → 자동          |
| **쿼리 언어**       | SQL 사용 (JOIN, GROUP BY 가능)          | NoSQL API (Query, Scan), SQL 안됨    |
| **트랜잭션**        | ACID 트랜잭션 강력 지원                   | 일부 ACID 트랜잭션 지원 (제한적)            |
| **복잡한 관계 표현** | 외래 키, 조인으로 표현                     | 조인 불가 → 데이터 중복 허용                |
| **사용 예시**       | 은행, 회계, ERP 등 정형 데이터              | 게임 순위, IoT 센서, 세션 캐시 등 유연한 구조  |
| **대표 서비스**      | MySQL, PostgreSQL, Oracle, RDS       | DynamoDB, MongoDB, Cassandra 등     |


> **RDB**: 정형 데이터, 명확한 관계, 복잡한 쿼리
> 
> **DynameDB** :  고속 처리, 유연한 구조, 대규모 확장성 


---
## Point-in-Time Recovery (PITR)
 -   DynamoDB의 내장 기능으로, 테이블을 **최대 35일간의 특정 시점**으로
    복구 가능.
-   실수로 데이터를 삭제하거나 잘못 업데이트했을 때, 원하는 시점으로
    되돌릴 수 있음.
-   **RPO**와 **RTO** 요구사항 충족에 효과적.

### 특징

-   **복구 가능 기간**: 최대 35일
-   **RPO (Recovery Point Objective)**: 초 단위 시점 선택 가능 (최대 약
    5분 지연)
-   **RTO (Recovery Time Objective)**: 수 분 \~ 수십 분 내 복구 가능

------------------------------------------------------------------------

## 🔑 RPO (Recovery Point Objective)

-   **정의**: 재해 발생 시 허용 가능한 데이터 손실 시간.
-   **의미**: 백업 또는 복구 시점이 얼마나 최신 데이터를 보장하는지
    나타냄.
-   **예시**: RPO 15분 → 장애 시 최대 15분 이내의 데이터 손실만 허용.

------------------------------------------------------------------------

## 🔑 RTO (Recovery Time Objective)

-   **정의**: 재해 발생 후 서비스 복구 목표 시간.
-   **의미**: 다운타임을 얼마나 짧게 가져갈 수 있는지 나타냄.
-   **예시**: RTO 1시간 → 장애 발생 후 1시간 이내에 정상 서비스 복구.

------------------------------------------------------------------------

## 정리

-   **PITR**: DynamoDB 테이블을 원하는 시점으로 되돌리는 기능 (최대
    35일).
-   **RPO**: 데이터 손실 허용 범위 → PITR로 5분 단위까지 가능.
-   **RTO**: 복구 완료 시간 → PITR은 수 분 \~ 수십 분 내 복구 가능.

👉 DynamoDB PITR은 실시간에 가까운 **세밀한 데이터 복구**와 **빠른 복원
속도**를 제공하므로, RPO/RTO 목표 충족에 적합한 기능이다.


---
## DynamoDB 용량 모드 

## 1. 프로비저닝 용량 모드 (Provisioned Capacity Mode)
- 읽기/쓰기 처리량을 미리 설정 (RCU, WCU).
- 예측 가능한 트래픽에 적합.
- Auto Scaling을 설정하면 트래픽에 따라 처리량이 자동으로 조정되지만, 
  급격한 트래픽 변화에는 반응이 늦을 수 있음.
- 비용: 설정한 처리량 기준으로 과금 (미사용 시에도 비용 발생).

## 2. 온디맨드 용량 모드 (On-Demand Capacity Mode)
- 사전 용량 설정 불필요.
- 요청 단위(읽기/쓰기)에 따라 과금.
- 트래픽이 불규칙하거나 예측이 어려울 때 적합.
- 급격한 트래픽 증가에도 자동으로 확장.
- 비용 효율성: 사용하지 않을 때는 과금 거의 없음.

## 3. 선택 기준
- **트래픽 예측 가능 + 안정적 패턴** → 프로비저닝 모드 + Auto Scaling.
- **트래픽 예측 불가 + 급격한 증가 가능성 + 비용 최적화 필요** → 온디맨드 모드.

## 4. 시험 포인트
- "예측 불가한 트래픽" → On-Demand.
- "비용 최적화" → On-Demand (사용량 기반 과금).
- "안정적, 예측 가능한 워크로드" → Provisioned + Auto Scaling.
