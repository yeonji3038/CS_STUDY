# AWS CloudTrail 
> **AWS CloudTrail**은 AWS 계정 내의 모든 **API 호출, 콘솔 작업, SDK 요청 등 사용자 활동을 기록**하는 서비스
> 
> 보안 분석, 리소스 변경 감사, 이상 행위 탐지 등 다양한 목적에 사용
> 
> - **리소스 내역 기록**
> - CloudTrail = AWS 내 모든 “행동”을 기록하는 블랙박스
---

## 주요 역할

| 역할 | 설명 |
|------|------|
| **기록 기능** | AWS 계정에서 발생한 API 호출 및 사용자 활동 자동 기록 |
| **감사 추적** | 보안 감사 및 규정 준수를 위한 활동 이력 저장 |
| **보안 분석** | 예상치 못한 리소스 변경 또는 침해 행위 탐지 가능 |
| **활동 이력 추적** | 누가, 언제, 어떤 리소스를 변경했는지 확인 가능 |

---

## 어떤 활동을 기록하나요?

- IAM 사용자 로그인/로그아웃
- EC2 인스턴스 시작, 중지, 종료
- S3 객체 생성, 삭제
- Lambda 함수 실행
- RDS 인스턴스 백업 등

---

## 작동 방식

1. AWS 서비스에서 API 호출 발생
2. CloudTrail이 활동 로그 자동 수집
3. 로그는 S3에 저장 (선택적으로 CloudWatch와 연동 가능)
4. 로그 분석, 경보, 자동화 처리 가능

---

## 활용 사례

| 활용 분야 | 예시 |
|-----------|------|
| **보안 감사** | 누가 S3 객체를 삭제했는지 확인 |
| **이상 탐지** | 루트 계정으로 IAM 사용자 생성 알림 설정 |
| **규정 준수** | ISO, PCI-DSS, SOC 2 감사 대응 |
| **자동화 트리거** | 특정 이벤트 발생 시 Lambda 자동 실행 등 |

---

## CloudTrail vs CloudWatch 차이

| 항목 | CloudTrail | CloudWatch |
|------|------------|------------|
| 목적 | API 활동 추적 | 리소스 상태 및 성능 모니터링 |
| 데이터 | API 호출 기록 | 로그, 메트릭, 이벤트 |
| 사용 예 | "누가 뭘 했는지" 추적 | CPU 사용률, 오류율, 경보 설정 |

