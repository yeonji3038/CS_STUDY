# Bastion Host & Security Group 

## 1. Bastion Host (배스천 호스트)
> 퍼블릭 서브넷에 위치한 특별한 목적의 인스턴스

-   **역할**: 외부(인터넷/사내 네트워크)에서 프라이빗 서브넷의
    리소스(EC2 등)로 안전하게 접근할 수 있는 게이트웨이 역할.\
-   **특징**:
    -   보통 SSH (Linux) 또는 RDP (Windows) 접속을 위해 사용.
    -   반드시 최소 권한 원칙(Least Privilege)에 따라 보안 그룹을
        설정해야 함.
    -   배스천 호스트에 접속한 후, 내부 프라이빗 리소스로 접속 가능.

------------------------------------------------------------------------

## 2. Security Group (보안 그룹)
> AWS EC2 인스턴스의 가상 방화벽. 인바운드(Inbound),아웃바운드(Outbound) 규칙을 정의.

-   **특징**:
    -   상태 저장(Stateful) 방화벽 → 요청을 보낸 IP/포트에 대해서
        자동으로 응답 허용.
    -   기본적으로 모든 접근 거부(Deny All), 명시적으로 허용 규칙만
        추가.
    -   최소 권한 원칙 적용 필수.

------------------------------------------------------------------------

## 3. 최소 권한 원칙 (Least Privilege)

-   사용자가 필요로 하는 최소한의 권한만 허용.
-   보안 그룹을 설계할 때, 광범위한 접근(IP 대역, 모든 포트 개방 등)을
    피해야 함.
-   예: `0.0.0.0/0` → 전 세계 누구나 접근 가능 → 보안 취약.

------------------------------------------------------------------------

## 4. 프라이빗 서브넷 vs 퍼블릭 서브넷

-   **퍼블릭 서브넷**
    -   인터넷 게이트웨이를 통해 외부와 직접 통신 가능.
    -   배스천 호스트나 NAT Gateway 배치.
-   **프라이빗 서브넷**
    -   직접 인터넷 접근 불가.
    -   보안 강화를 위해 중요한 애플리케이션 서버, DB 서버 배치.

------------------------------------------------------------------------

## 5. 보안 그룹 설계 시 패턴 (시험 포인트)

1.  **배스천 호스트 보안 그룹**
    -   인바운드 규칙: 특정 회사 고정 퍼블릭 IP에서만 SSH/RDP 허용.
    -   아웃바운드 규칙: 프라이빗 서브넷 내부 리소스 접근 허용.
2.  **애플리케이션 서버 보안 그룹**
    -   인바운드 규칙: 배스천 호스트의 **프라이빗 IP**에서만 SSH 접근
        허용.
    -   퍼블릭 인터넷에서 직접 접근 불가.

------------------------------------------------------------------------

## 6. 핵심 요약

-   Bastion Host = 보안 관문 역할 (퍼블릭 서브넷).
-   App 서버 = 프라이빗 서브넷, Bastion Host를 통해서만 접근 가능.
-   Security Group = 최소 권한 원칙 적용 → 특정 IP/포트만 허용.

👉 따라서 시험 문제에서 올바른 답은 보통 **"배스천 호스트에는 회사 고정
퍼블릭 IP만 허용"**,\
**"애플리케이션 서버에는 배스천 호스트의 프라이빗 IP만 허용"** 이 정답
조합이 됨.
