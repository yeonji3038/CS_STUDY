# 📦 AWS 스토리지 및 수명주기 관리 

> AWS에서 온프레미스 파일 서버를 클라우드로 확장하고, 비용을 절감하면서 효율적인 데이터 보관을 하기 위한 필수 개념들을 정리한 문서

## Storage Gateway
사용 가능한 스토리지 공간을 늘림

---

## ✅ 1. S3 스토리지 클래스 종류

| 클래스 | 설명 | 특징 |
|--------|------|------|
| S3 Standard | 자주 접근하는 데이터를 위한 기본 스토리지 | 빠름, 비용 다소 높음 |
| S3 Intelligent-Tiering(지능형 계층화-인텔러전트 티링) | 접근 패턴이 불규칙한 경우 자동 최적화 | 자동 계층화, 비용 효율적 |
| S3 (Glacier)->글레이셔 | 장기 보관 데이터용 | 저렴, 복원까지 몇 분~몇 시간 |
| S3 Glacier Deep Archive | 거의 접근하지 않는 데이터용 | 가장 저렴, 복원 최대 12시간 소요 |

> 💡 **핵심**: 자주 사용하지 않는 데이터는 Glacier 계열로 옮기면 저장 비용이 매우 저렴해진다.

---

## ✅ 2. S3 수명 주기 정책 (Lifecycle Policy)

- S3 객체를 자동으로 다른 스토리지 클래스로 이동하거나 삭제할 수 있는 기능
- 시간 기준으로 동작 (예: 업로드 후 7일, 30일, 365일 등)

**예시 정책**
```plaintext
7일 후 → Glacier
180일 후 → Deep Archive
365일 후 → 삭제
```

---

## ✅ 3. AWS Storage Gateway – S3 File Gateway
온프레미스 환경과 AWS S3를 연결해주는 브리지 역할

SMB/NFS 프로토콜을 사용하여 로컬 파일처럼 S3를 사용할 수 있음

📌 핵심 포인트:
→ SMB 서버와 S3를 연결하는 브리지 역할

---
## 4. 온프레미스 vs 클라우드 저장소 확장
온프레미스 스토리지는 공간과 비용이 한계가 있음

클라우드(S3 등)를 연계하면 유연하게 확장 가능하고, 자동화된 관리도 가능

---
### ✅ 요약 흐름도
```
[ 온프레미스 SMB 파일 서버 ]
       ↓ (S3 File Gateway 연결)
>
[ S3 Standard (초기 7일간) ]
       ↓ (Lifecycle 정책)
>
[ S3 Glacier Deep Archive (비용 절감) ]
```